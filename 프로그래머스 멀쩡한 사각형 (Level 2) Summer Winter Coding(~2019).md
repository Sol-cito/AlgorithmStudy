## 프로그래머스 문자열 압축 (Level 2) Summer Winter Coding(~2020)

###### 문제 설명

가로 길이가 Wcm, 세로 길이가 Hcm인 직사각형 종이가 있습니다. 종이에는 가로, 세로 방향과 평행하게 격자 형태로 선이 그어져 있으며, 모든 격자칸은 1cm x 1cm 크기입니다. 이 종이를 격자 선을 따라 1cm × 1cm의 정사각형으로 잘라 사용할 예정이었는데, 누군가가 이 종이를 대각선 꼭지점 2개를 잇는 방향으로 잘라 놓았습니다. 그러므로 현재 직사각형 종이는 크기가 같은 직각삼각형 2개로 나누어진 상태입니다. 새로운 종이를 구할 수 없는 상태이기 때문에, 이 종이에서 원래 종이의 가로, 세로 방향과 평행하게 1cm × 1cm로 잘라 사용할 수 있는 만큼만 사용하기로 하였습니다.
가로의 길이 W와 세로의 길이 H가 주어질 때, 사용할 수 있는 정사각형의 개수를 구하는 solution 함수를 완성해 주세요.

##### 제한사항

- W, H : 1억 이하의 자연수

#### 입출력 예

| W    | H    | result |
| ---- | ---- | ------ |
| 8    | 12   | 80     |

##### 입출력 예 설명

입출력 예 #1
가로가 8, 세로가 12인 직사각형을 대각선 방향으로 자르면 총 16개 정사각형을 사용할 수 없게 됩니다. 원래 직사각형에서는 96개의 정사각형을 만들 수 있었으므로, 96 - 16 = 80 을 반환합니다.

![572957326.92.png](https://grepp-programmers.s3.amazonaws.com/files/production/ee895b2cd9/567420db-20f4-4064-afc3-af54c4a46016.png)

출처 : https://programmers.co.kr/learn/courses/30/lessons/62048



---



#### My solution (Java)

```java
class Solution {
    public long solution(int w, int h) {
        long answer = 0;
        double inclination = -((double) h / (double) w);
        for (long i = 1; i < w; i++) {
            answer += (long)((i * inclination) + h);
        }
        return answer * 2;
    }
}
```

---



#### My logic & Feedback

하..이 얄미운 문제..

접근방법은,

우선 기울기(h/w)를 구한다.

w만큼 x좌표를 증가시켰을 때, 기울기에 의해 y좌표가 정해지는데, 이 y좌표에서 '정수부분만' 사각형의 넓이로 치면 된다 (그래서 long으로 캐스팅 함).

이 방법은 수학적으로는 빈틈이 없는 방법인데, 

컴퓨터에서 문제가 생긴다.

기울기의 계산을 double형으로 (double) h / (double) w 로 하게 되는데,

컴퓨터의 소수자리 계산 특성상 숫자가 커지면 오차가 발생한다는 것...

이를 **부동소수점 오차**라고 한다는 사실을 처음 깨달았으며, 그 이유는 자세히 살펴보지는 않았지만 뭔가 복잡해보인다(추후 정리예정).

아무튼, 기울기를 '양의 기울기'로 하면 테스트케이스 6번이 실패한다.

그러나 기울기를 '음의 기울기'로 하여 계산하면 테스트케이스가 전부 통과한다.

아무래도 음의 기울기로 하면 오차범위에 테스트케이스가 걸리지 않는 듯 싶다.

다른 스터디원들은 공약수를 이용해서 풀었다고 한다.

공약수라는 개념을 이 기하학 문제에 어떻게 응용을 시켰는지 그저 대단할 뿐이다..